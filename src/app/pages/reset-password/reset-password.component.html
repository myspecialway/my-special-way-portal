<div class="login-container">
  <form name="form" (ngSubmit)="f.form.valid && resetPassword()" #f="ngForm" novalidate>
    <div class="login-card">
      <div class="msw-login-logo-ph"><img src="/assets/img/myway.png" alt="" /></div>
      <div class="msw-reset-title">שכחת סיסמא ?</div>
      <div class="msw-reset-subtitle">
        אין בעיה, הזן את כתובת המייל ואנו נשלח לך סיסמא חדשה
      </div>
      <!-- <div *ngIf="!loginFailed; else showError" class="msw-reset-subtitle">
        אין בעייה, הזן את כתובת המייל ואנו נשלח לך סיסמא חדשה
      </div> -->
      <!-- <div ng-template #showError class="msw-reset-error">לא הצלחנו לשלוח מייל לכתובת {{ email }}, אנא נסה שוב.</div> -->

      <div class="card-form" [ngClass]="{ 'has-error': f.submitted && !email.valid }">
        <div class="form-row">
          <mat-form-field
            [hideRequiredMarker]="formFieldOptions.value.hideRequired"
            [floatLabel]="formFieldOptions.value.floatLabel"
          >
            <input
              type="email"
              matInput
              placeholder="אימייל"
              name="email"
              [(ngModel)]="model.email"
              #email="ngModel"
              required
              email
            />
          </mat-form-field>
        </div>
        <div class="input-footer">
          <mat-error *ngIf="email.touched && !email.value" data-test-id="empty-email-err">אימייל הינו שדה חובה</mat-error>
          <mat-error *ngIf="email.touched && email.value && !email.valid" data-test-id="invalid-email-err">כתובת אימייל לא חוקית. אנא נסה שנית.</mat-error>
          <a class="back-to-login" routerLink="/login">נזכרתי בסיסמא</a>
        </div>
      </div>
      <div class="card-footer">
        <button mat-button class="mat-raised-button mat-primary" [disabled]="!f.form.valid">שחזר סיסמא</button>
      </div>
      <br/>
      <div *ngIf="errorMessage !== ''">{{errorMessage}}</div>
    </div>
  </form>
  <div class="msw-login-footer">
    <img class="img" src="/assets/img/tinti.png" />
    <div class="gray-bar"></div>
  </div>
</div>
